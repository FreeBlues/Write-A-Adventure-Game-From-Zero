#	从零开始写一个武侠冒险游戏-0-开发框架Codea简介

##	概述

本游戏全程使用一款运行于 `iPad` 上的开发 `APP`--`Codea` 来开发, 它既是一个:

-	 `运行时库-Runtime`

也是一个:

-	`框架-Frameworks`

还是一个:

-	`集成开发环境-IDE`

更是一个:

-	`调试服务器-debugSever`, 可通过浏览器来云端调试代码.

它还是 `Lua` 语言的一种扩展, 本质上它就是一个运行于 `iPad` 上可以动态加载运行 `Lua` 代码的应用程序. 

这就是它的样子:

一些截图

它实现了一个非常易于使用的编程框架(类似于 `Processing` 和 `OpenFrameWorks`):

-	`setup()` 函数, 负责初始化工作, 程序启动时运行一次;
-	`draw()` 函数, 负责屏幕绘制, `1`秒钟刷新 `60` 次;
-	`touched(touch)` 函数, 负责处理屏幕触摸;
-	`keyboard(key)` 函数, 负责处理键盘操作;
-	`collide(contact)` 函数, 负责处理物理模拟中的碰撞检测;
-	`orientationchanged(newOrientation)` 函数, 负责检测屏幕位置(是否翻转)

用它提供的功能丰富的函数你可以在 `iPad` 上编写各种程序, 它提供了:

-	`基本绘图函数`, 实现一些基本的绘图函数
-	`高级绘图函数`, 支持 `OpenGL ES 2.0/3.0`, 直接编写 `shader` 代码, 即时查看运行结果;
-	`Lua 语言的大多数函数`, 如 `table`相关, `string` 相关, `os` 相关, 以及 `math` 相关的一些函数, 还包括协程 `coroutine`;
-	`Lua 的一些库`, 如 `socket`, `lpeg`, `json`
-	`触控函数`, 负责处理屏幕触摸事件;
-	`调试函数`, 负责处理程序调试工作;
-	`物理模拟函数`, 封装 `box2D` 提供了相关的物理模拟函数;
-	`动画函数`, 一个专门的动画类, 可以利用它来实现各种动画效果;
-	`声音函数`, 负责处理播放声音以及生成各种音效;
-	`显示函数`, 负责处理显示模式设置以及视频录制等等
-	`矢量函数`, 提供了二维, 三维, 四维向量以及相关的各种操作;
-	`传感器函数`, 负责处理 `GPS` 定位传感器和 `加速度` 传感器;
-	`网络函数`, 提供了封装后的 `http.request()` 函数
-	`存储函数`, 提供了各种存取函数, 用于存取游戏数据到 `iPad` 上.


它提供了一个 `IDE`, 可以`编辑/调试/运行`代码, 非常适合触屏操作. 也非常适合那些希望能随时随地拿起平板就能编程的开发者, 据本软件开发者 `Simen` 自述, 最初就是因为他想在平板电脑上随时运行一些代码片段, 于是萌生了这个想法, 结果一步步搞出这么一个超级方便很受欢迎的 `iPad` 开发工具来.

它可以把你编写的代码导出为一个 `XCode` 项目, 然后编译成一个真正的 `APP` 发布到 `APP Store`, 当然了, 需要你拥有一个开发者账号.

我用过很多 `iPad` 上的编程工具, 最喜欢的一款是 `Codea` , 而且为了更好地发挥它的作用, 专门去认真学了 `Lua`.

接下来我们会对 `Codea` 做一个介绍, 让读者对我们后续即将使用的开发工具有一个初步了解.

##	界面

##	操作	

##	如何使用本教程中的源码

你有两种方式来运行本教程的示例, 一种是下载源码, 直接在 `iPad` 上通过 `Codea` 来运行, 另一种是下载对应的 `XCode` 项目文件包, 然后在 `XCode` 中把它编译为一个 `ipa` 应用, 在把它加载到模拟器上运行. 

###	直接在 iPad 上用 Codea 加载代码

如果你有 `iPad`, 并且购买了 `Codea`, 那么你可以打开 `Codea`, 新建一个项目, 把例程代码拷贝进去, 同时要把例程中用到的图像资源下载拷贝到 `Codea` 的素材库目录下, 一般是 `Documents`, 然后就可以运行了.

这种方法最简单, 也最方便, 唯一的不便之处是需要预先手动下载保存好图片素材(不过后续我会写几个自动下载保存图片的函数来提供更方便的使用)

###	通过 XCode 的 iOS 模拟器来运行

如果你没有 `iPad`, 或者虽然有 `iPad`, 但是暂时还不准备花 `15` 美元购买一份 `Codea`, 那么你还可以通过模拟器来运行.

这就需要你有一台安装了 `XCode` 的 `Mac` 电脑, 或者你有一个安装了 `XCode` 的 `OSX` 虚拟机, 你只要把每章对应的 `XCode` 项目文件包下载回去, 然后在 `XCode` 中打开它, 编译运行, 就可以在模拟器中看到运行结果了. 

而且你也可以在 `XCode` 中修改代码, 重新编译查看效果.

## 参考资源

[官网函数手册](https://codea.io/reference/index.html)  
[官方wiki](https://bitbucket.org/TwoLivesLeft/core/wiki/)  
[官网论坛](https://codea.io/talk/discussions)  
[中文函数手册]()



